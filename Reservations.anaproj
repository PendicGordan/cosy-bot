{"ProjectId":"5e272ecc98f9640000b169c7","ChatNodes":[{"Name":"Start Node","Id":"5e272ecc98f9640000b169c6","Buttons":[{"_id":"5e272f1b98f9640000b169ca","ButtonName":"Button Text","ButtonType":"GetText","PlaceholderText":"Place name","NextNodeId":"5e2735c298f9640000b169d8","AdvancedOptions":true,"VariableValue":"restaurant","DefaultText":""}],"Sections":[{"SectionType":"Text","_id":"5e272f1398f9640000b169c9","Text":"Hi there🤩 In which place do you want to make a reservation? I am recommending these nearby."},{"SectionType":"Carousel","_id":"5e27324198f9640000b169d1","Items":[{"Buttons":[{"Text":"{{companies[0].name}}","Type":"NextNode","_id":"5e2741d498f9640000b169dc","NextNodeId":"5e2735c298f9640000b169d8","VariableValue":"{{companies[0].id}}"}],"Title":"{{companies[0].name}}","_id":"5e27324398f9640000b169d2","Caption":"{{companies[0].address}}","ImageUrl":"{{companies[0].image}}"},{"Buttons":[{"Text":"{{companies[1].name}}","Type":"NextNode","_id":"5e27356c98f9640000b169d7","VariableValue":"{{companies[1].id}}","NextNodeId":"5e2735c298f9640000b169d8"}],"Title":"{{companies[1].name}}","_id":"5e27326a98f9640000b169d3","Caption":"{{companies[1].address}}","ImageUrl":"{{companies[1].image}}"},{"Buttons":[{"Text":"{{companies[2].name}}","Type":"NextNode","_id":"5e2f052a118a2000007ea567","VariableValue":"{{companies[2].id}}","NextNodeId":"5e2735c298f9640000b169d8"}],"Title":"{{companies[2].name}}","_id":"5e27329898f9640000b169d4","Caption":"{{companies[2].address}}","ImageUrl":"{{companies[2].image}}"}]}],"NodeType":"Combination","TimeoutInMs":0,"IsStartNode":false,"VariableName":"choosenCompany","IsGoalNode":false},{"Name":"Correct Time","Id":"5e272ed598f9640000b169c8","Buttons":[{"_id":"5e2f3653118a2000007ea596","ButtonName":"Persons number","ButtonType":"GetText","NextNodeId":"5e2f3622118a2000007ea595","PlaceholderText":"Persons number","AdvancedOptions":false},{"_id":"5e2f3926118a2000007ea59e","ButtonName":"2","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"2","NextNodeId":"5e2f3622118a2000007ea595"},{"_id":"5e2f393d118a2000007ea59f","ButtonName":"3","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"3","NextNodeId":"5e2f3622118a2000007ea595"},{"_id":"5e2f3943118a2000007ea5a0","ButtonName":"4","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"4","NextNodeId":"5e2f3622118a2000007ea595"},{"_id":"5e2f3954118a2000007ea5a1","ButtonName":"5","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"5","NextNodeId":"5e2f3622118a2000007ea595"}],"Sections":[{"SectionType":"Text","_id":"5e27303698f9640000b169cb","Text":"Great! How many persons are coming?😊"}],"NodeType":"Combination","IsStartNode":false,"IsGoalNode":false,"VariableName":"persons"},{"Name":"API CALL selectCompany","Id":"5e2735c298f9640000b169d8","Buttons":[{"_id":"5e27477e98f9640000b169e1","ButtonName":"status = true","ButtonType":"NextNode","NextNodeId":"5e27460d98f9640000b169df","AdvancedOptions":true,"VariableValue":"true","ConditionMatchKey":"companyCheck.status","ConditionOperator":"EqualTo","ConditionMatchValue":"true"},{"_id":"5e2f3194118a2000007ea58f","ButtonName":"status = maybe","ButtonType":"NextNode","ConditionMatchKey":"companyCheck.status","ConditionOperator":"EqualTo","ConditionMatchValue":"maybe","NextNodeId":"5e2f08d8118a2000007ea56b","AdvancedOptions":true},{"_id":"5e2f311c118a2000007ea58e","ButtonName":"status = false","ButtonType":"NextNode","ConditionMatchKey":"companyCheck.status","ConditionOperator":"EqualTo","ConditionMatchValue":"false","NextNodeId":"5e2f09cf118a2000007ea570","AdvancedOptions":true}],"Sections":[],"NodeType":"ApiCall","IsStartNode":false,"IsGoalNode":false,"ApiMethod":"POST","ApiUrl":"http://localhost:5000/v1/bots/company/select","RequestBody":"{ \"company\": \"{{choosenCompany}}\", \"exclude\": \"{{companyCheck.company.id}}\" }","NextNodeId":"5e272ed598f9640000b169c8","VariableName":"companyCheck","Headers":"Content-Type:application/json"},{"Name":"Great Choice","Id":"5e27460d98f9640000b169df","Buttons":[{"_id":"5e2ba43ae382b0000042c74f","ButtonName":"DD-MM-YYYY","ButtonType":"GetText","AdvancedOptions":true,"VariableValue":"DD-MM-YYYY","PlaceholderText":"DD-MM-YYYY","NextNodeId":"5e2c63a6e382b0000042c751"},{"_id":"5e2747cd98f9640000b169e2","ButtonName":"Today","ButtonType":"NextNode","NextNodeId":"5e2c63a6e382b0000042c751","AdvancedOptions":true,"VariableValue":"today"},{"_id":"5e2ba396e382b0000042c74e","ButtonName":"Tomorrow","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"tomorrow","NextNodeId":"5e2c63a6e382b0000042c751"}],"Sections":[{"SectionType":"Text","_id":"5e27461598f9640000b169e0","Text":"Great choice!🎯 Which date do you prefer? Please use the following format: DD-MM-YYYY"}],"NodeType":"Combination","IsStartNode":false,"VariableName":"choosenDate"},{"Name":"API CALL START","Id":"5e2b866ae382b0000042c74c","Buttons":[{"_id":"5e2b8d6de382b0000042c74d","ButtonName":"New Button","ButtonType":"NextNode","NextNodeId":"5e272ecc98f9640000b169c6","AdvancedOptions":false}],"Sections":[],"NodeType":"ApiCall","VariableName":"companies","IsStartNode":true,"ApiMethod":"GET","ApiUrl":"http://localhost:5000/v1/bots/companies","Headers":"Content-Type:application/json"},{"Name":"Check Date API","Id":"5e2c63a6e382b0000042c751","Buttons":[{"_id":"5e2f3405118a2000007ea590","ButtonName":"status = false","ButtonType":"NextNode","ConditionMatchKey":"checkDateResponse.status","ConditionOperator":"EqualTo","ConditionMatchValue":"false","NextNodeId":"5e2c6cb6e382b0000042c758","AdvancedOptions":true},{"_id":"5e2c670fe382b0000042c753","ButtonName":"status =  true","ButtonType":"NextNode","AdvancedOptions":true,"NextNodeId":"5e2f2118118a2000007ea582","ConditionMatchKey":"checkDateResponse.status","ConditionOperator":"EqualTo","ConditionMatchValue":"true"}],"Sections":[],"NodeType":"ApiCall","VariableName":"checkDateResponse","ApiMethod":"POST","ApiUrl":"http://localhost:5000/v1/bots/company/checkDate","Headers":"Content-Type:application/json\n","RequestBody":"{\n\"companyId\": \"{{choosenCompany}}\",\n\"date\":\"{{choosenDate}}\"\n}","IsStartNode":false},{"Name":"Fallback wrong condition","Id":"5e2c6cb6e382b0000042c758","Buttons":[{"_id":"5e2eebdf118a2000007ea55e","ButtonName":"Today","ButtonType":"NextNode","NextNodeId":"5e2c63a6e382b0000042c751","AdvancedOptions":true,"VariableValue":"TODAY"},{"_id":"5e2f10e2118a2000007ea579","ButtonName":"Tomorrow","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"TOMORROW","NextNodeId":"5e2c63a6e382b0000042c751"},{"_id":"5e2f1147118a2000007ea57a","ButtonName":"DD-MM-YYYY","ButtonType":"GetText","PlaceholderText":"DD-MM-YYYY","AdvancedOptions":true,"VariableValue":"DD-MM-YYYY","IsMultiLine":false,"NextNodeId":"5e2c63a6e382b0000042c751"}],"Sections":[{"SectionType":"Text","_id":"5e2c6cc2e382b0000042c759","Text":"The date format is not valid or in the past.🤷 Please retype it in the following format: DD-MM-YYYY"}],"NodeType":"Combination","IsStartNode":false,"VariableName":"choosenDate"},{"Name":"checkCompany maybe","Id":"5e2f08d8118a2000007ea56b","Buttons":[{"_id":"5e2f16b0118a2000007ea57c","ButtonName":"Yes","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"{{companyCheck.company.id}}","NextNodeId":"5e2735c298f9640000b169d8"},{"_id":"5e2f16d5118a2000007ea57d","ButtonName":"No","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"{{choosenCompany}}","NextNodeId":"5e2735c298f9640000b169d8"}],"Sections":[{"SectionType":"Text","_id":"5e2f1557118a2000007ea57b","Text":"Did you mean {{companyCheck.company.name}} ?"},{"SectionType":"Carousel","_id":"5e2f0952118a2000007ea56d","Items":[{"Buttons":[{"Text":"{{companyCheck.company.name}}","Type":"NextNode","_id":"5e2f0987118a2000007ea56f","VariableValue":"{{companyCheck.company.id}}","NextNodeId":"5e2735c298f9640000b169d8"}],"Title":"{{companyCheck.company.name}}","_id":"5e2f0958118a2000007ea56e","ImageUrl":"{{companyCheck.company.image}}","Caption":"{{companyCheck.company.name}}"}]}],"NodeType":"Combination","VariableName":"choosenCompany","IsStartNode":false},{"Name":"companyCheck false","Id":"5e2f09cf118a2000007ea570","Buttons":[{"_id":"5e2f0a78118a2000007ea575","ButtonName":"No, I don't want any of recommended.","ButtonType":"NextNode","NextNodeId":"5e2f0a96118a2000007ea576","AdvancedOptions":false}],"Sections":[{"SectionType":"Text","_id":"5e2f09d4118a2000007ea571","Text":"Sorry, we don't have such place in our system. Do you want a table at one of our recommended places?"},{"SectionType":"Carousel","_id":"5e2f09ff118a2000007ea572","Items":[{"Buttons":[{"Text":"{{companies[0].name}}","Type":"NextNode","_id":"5e2f0a53118a2000007ea574","VariableValue":"{{companies[0].id}}","NextNodeId":"5e2735c298f9640000b169d8"}],"Title":"{{companies[0].name}}","_id":"5e2f0a07118a2000007ea573","ImageUrl":"{{companies[0].image}}","Caption":"{{companies[0].address}}"},{"Buttons":[{"Text":"{{companies[1].name}}","Type":"NextNode","_id":"5e2f1d66118a2000007ea57f","VariableValue":"{{companies[1].id}}","NextNodeId":"5e2735c298f9640000b169d8"}],"Title":"{{companies[1].name}}","_id":"5e2f1d50118a2000007ea57e","ImageUrl":"{{companies[1].image}}","Caption":"{{companies[1].address}}"},{"Buttons":[{"Text":"{{companies[2].name}}","Type":"NextNode","_id":"5e2f1db2118a2000007ea581","VariableValue":"{{companies[2].id}}","NextNodeId":"5e2735c298f9640000b169d8"}],"Title":"{{companies[2].name}}","_id":"5e2f1d92118a2000007ea580","ImageUrl":"{{companies[2].image}}","Caption":"{{companies[2].address}}"}]}],"NodeType":"Combination","IsStartNode":false,"VariableName":"choosenCompany"},{"Name":"Sorry","Id":"5e2f0a96118a2000007ea576","Buttons":[],"Sections":[{"SectionType":"Text","_id":"5e2f0a9e118a2000007ea577","Text":"I am really sorry that I couldn't help you. :( See you next time!"}],"NodeType":"Combination","IsStartNode":false},{"Name":"Time Check","Id":"5e2f2118118a2000007ea582","Buttons":[{"_id":"5e2f21f8118a2000007ea584","ButtonName":"hh:mm","ButtonType":"GetText","NextNodeId":"5e2f2209118a2000007ea585","PlaceholderText":"hh:mm","AdvancedOptions":false},{"_id":"5e2f2761118a2000007ea588","ButtonName":"19:00","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"19:00","NextNodeId":"5e2f2209118a2000007ea585"},{"_id":"5e2f2777118a2000007ea589","ButtonName":"20:00","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"20:00","NextNodeId":"5e2f2209118a2000007ea585"},{"_id":"5e2f279a118a2000007ea58a","ButtonName":"21:00","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"21:00","NextNodeId":"5e2f2209118a2000007ea585"}],"Sections":[{"SectionType":"Text","_id":"5e2f2132118a2000007ea583","Text":"Alright, there are availible tables for {{choosenDate}} 😉. At what time? Please use the following format: hh:mm"}],"NodeType":"Combination","VariableName":"time","IsStartNode":false},{"Name":"API CALL checkTime","Id":"5e2f2209118a2000007ea585","Buttons":[{"_id":"5e2f2316118a2000007ea586","ButtonName":"status = true","ButtonType":"NextNode","NextNodeId":"5e272ed598f9640000b169c8","ConditionMatchKey":"checkTime.status","ConditionOperator":"EqualTo","ConditionMatchValue":"true","AdvancedOptions":true},{"_id":"5e2f2e75118a2000007ea58c","ButtonName":"status = false","ButtonType":"NextNode","ConditionMatchKey":"checkTime.status","ConditionOperator":"EqualTo","ConditionMatchValue":"false","NextNodeId":"5e2f2e2a118a2000007ea58b","AdvancedOptions":true}],"Sections":[],"NodeType":"ApiCall","VariableName":"checkTime","ApiMethod":"POST","ApiUrl":"http://localhost:5000/v1/bots/company/checkTime","Headers":"Content-Type:application/json","RequestBody":"{ \"date\": \"{{choosenDate}}\", \"time\": \"{{time}}\", \"companyId\": \"{{choosenCompany}}\" }","IsStartNode":false},{"Name":"Wrong Time","Id":"5e2f2e2a118a2000007ea58b","Buttons":[{"_id":"5e2f3531118a2000007ea591","ButtonName":"hh:mm","ButtonType":"GetText","PlaceholderText":"hh:mm","NextNodeId":"5e2f2209118a2000007ea585","AdvancedOptions":false},{"_id":"5e2f355f118a2000007ea594","ButtonName":"21:00","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"21:00","NextNodeId":"5e2f2209118a2000007ea585"},{"_id":"5e2f3545118a2000007ea592","ButtonName":"20:00","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"20:00","NextNodeId":"5e2f2209118a2000007ea585"},{"_id":"5e2f3553118a2000007ea593","ButtonName":"19:00","ButtonType":"NextNode","AdvancedOptions":true,"VariableValue":"19:00","NextNodeId":"5e2f2209118a2000007ea585"}],"Sections":[{"SectionType":"Text","_id":"5e2f2e8c118a2000007ea58d","Text":"The time format is not valid or it's in the past.🤷 Please retype it in the following format: hh:mm"}],"NodeType":"Combination","IsStartNode":false,"VariableName":"time"},{"Name":"API CALL - Persons","Id":"5e2f3622118a2000007ea595","Buttons":[{"_id":"5e2f3829118a2000007ea597","ButtonName":"status = true","ButtonType":"NextNode","ConditionMatchKey":"checkPersons.status","ConditionOperator":"EqualTo","ConditionMatchValue":"true","NextNodeId":"5e2f3860118a2000007ea599","AdvancedOptions":true},{"_id":"5e2f383a118a2000007ea598","ButtonName":"status = false","ButtonType":"NextNode","ConditionMatchKey":"checkPersons.status","ConditionOperator":"EqualTo","ConditionMatchValue":"false","NextNodeId":"5e2f38b6118a2000007ea59c","AdvancedOptions":true}],"Sections":[],"NodeType":"ApiCall","IsStartNode":false,"VariableName":"checkPersons","ApiMethod":"POST","ApiUrl":"http://localhost:5000/v1/bots/company/checkPersons","Headers":"Content-Type:application/json","RequestBody":"{ \"numberOfPersons\": \"{{persons}}\" }"},{"Name":"Persons Correct","Id":"5e2f3860118a2000007ea599","Buttons":[{"_id":"5e2f38ab118a2000007ea59b","ButtonName":"Next","ButtonType":"GetText","NextNodeId":"5e2f3a85118a2000007ea5a6","PlaceholderText":"your@email.com","AdvancedOptions":false}],"Sections":[{"SectionType":"Text","_id":"5e2f3873118a2000007ea59a","Text":"Table for {{persons}} is available!😊 On what email should I send a confirmation?📧"}],"NodeType":"Combination","VariableName":"email","IsStartNode":false},{"Name":"Persons Wrong","Id":"5e2f38b6118a2000007ea59c","Buttons":[{"_id":"5e2f3997118a2000007ea5a3","ButtonName":"Next","ButtonType":"NextNode","NextNodeId":"5e2f3622118a2000007ea595","AdvancedOptions":false}],"Sections":[{"SectionType":"Text","_id":"5e2f38c5118a2000007ea59d","Text":"I didn't get that.🤷 How many persons are coming?"}],"NodeType":"Combination","VariableName":"persons","IsStartNode":false},{"Name":"API CALL email","Id":"5e2f3a85118a2000007ea5a6","Buttons":[{"_id":"5e2f3bd7118a2000007ea5a7","ButtonName":"status = true","ButtonType":"NextNode","ConditionMatchKey":"checkEmail.status","ConditionOperator":"EqualTo","ConditionMatchValue":"true","NextNodeId":"5e31bf53842d5b0000b0cecd","AdvancedOptions":false},{"_id":"5e2f3bed118a2000007ea5a8","ButtonName":"status = false","ButtonType":"NextNode","ConditionMatchKey":"checkEmail.status","ConditionOperator":"EqualTo","ConditionMatchValue":"false","NextNodeId":"5e2f3c2b118a2000007ea5a9","AdvancedOptions":false}],"Sections":[],"NodeType":"ApiCall","VariableName":"checkEmail","ApiMethod":"POST","ApiUrl":"http://localhost:5000/v1/bots/company/checkEmail","Headers":"Content-Type:application/json","RequestBody":"{ \"email\": \"{{email}}\" }","IsStartNode":false},{"Name":"Bad email","Id":"5e2f3c2b118a2000007ea5a9","Buttons":[{"_id":"5e2f3c7c118a2000007ea5ab","ButtonName":"Retype email","ButtonType":"GetText","PlaceholderText":"your@email.com","NextNodeId":"5e2f3a85118a2000007ea5a6","AdvancedOptions":false}],"Sections":[{"SectionType":"Text","_id":"5e2f3c4d118a2000007ea5aa","Text":"Ups😓 It seems that you entered invalid email.❌ Please, retype it again."}],"NodeType":"Combination","VariableName":"email","IsStartNode":false},{"Name":"End","Id":"5e31bf53842d5b0000b0cecd","Buttons":[{"_id":"5e31c09a842d5b0000b0ced1","ButtonName":"Restart reservation","ButtonType":"NextNode","NextNodeId":"5e2b866ae382b0000042c74c"}],"Sections":[{"SectionType":"Text","_id":"5e31f29c842d5b0000b0ced2","Text":"Ok thanks.🙋 Confirmation email was sent to {{email}}"},{"SectionType":"Image","_id":"5e31bfdc842d5b0000b0ced0","Url":"https://inventionland.com/wp-content/uploads/2015/09/National_Thank_You_Day.png","Title":"{{companyCheck.company.name}} is awaiting you!","Caption":""}],"NodeType":"Combination","IsStartNode":false}],"NodeLocations":{"5e272ecc98f9640000b169c6":{"X":123.58901977539062,"Y":692.7516479492188},"5e272ed598f9640000b169c8":{"X":-227.05993642562555,"Y":2010.9103136495996},"5e2735c298f9640000b169d8":{"X":125.55364853431104,"Y":947.7795057193792},"5e27460d98f9640000b169df":{"X":-271.85201278936745,"Y":1141.9996755331044},"5e2b866ae382b0000042c74c":{"X":124.037349619378,"Y":517.3525297684843},"5e2c63a6e382b0000042c751":{"X":-276.4172264513435,"Y":1429.3491332372562},"5e2c6cb6e382b0000042c758":{"X":-725.555270709448,"Y":1593.244509767815},"5e2f08d8118a2000007ea56b":{"X":143.4257079137875,"Y":1145.632906116512},"5e2f09cf118a2000007ea570":{"X":517.1378737201753,"Y":1139.3559512299307},"5e2f0a96118a2000007ea576":{"X":509.4948811388281,"Y":1450.540124592889},"5e2f2118118a2000007ea582":{"X":116.936126491908,"Y":1602.6347881130025},"5e2f2209118a2000007ea585":{"X":169.39727424584862,"Y":1827.2309154870281},"5e2f2e2a118a2000007ea58b":{"X":481.2783269980266,"Y":2007.4914753947987},"5e2f3622118a2000007ea595":{"X":-148.20097620739534,"Y":2276.447266624699},"5e2f3860118a2000007ea599":{"X":-396.6474095264416,"Y":2445.7852987747888},"5e2f38b6118a2000007ea59c":{"X":95.7746921413709,"Y":2445.4506403095584},"5e2f3a85118a2000007ea5a6":{"X":-405.4433154238743,"Y":2701.4620927342194},"5e2f3c2b118a2000007ea5a9":{"X":-146.25547684325397,"Y":2897.2015746904885},"5e31bf53842d5b0000b0cecd":{"X":-646.1197578975701,"Y":2903.3119540712323}},"_id":"5e272ecc98f9640000b169c7","CreatedOn":"2020-01-21T17:03:08.036Z","UpdatedOn":"2020-01-21T17:03:08.036Z"}